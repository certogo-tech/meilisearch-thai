# Environment configuration for Thai Tokenizer with External Meilisearch
# Copy this file to .env.external-meilisearch and customize for your deployment

# =============================================================================
# EXTERNAL MEILISEARCH CONNECTION CONFIGURATION
# =============================================================================

# Meilisearch server connection details
# For local external Meilisearch: http://host.docker.internal:7700
# For remote Meilisearch: https://your-meilisearch-server.com
MEILISEARCH_HOST=http://host.docker.internal:7700

# Meilisearch API key (required for authentication)
MEILISEARCH_API_KEY=your_meilisearch_api_key_here

# Meilisearch index name for Thai documents
MEILISEARCH_INDEX=documents

# SSL/TLS configuration for Meilisearch connection
MEILISEARCH_SSL_VERIFY=true

# Connection timeout and retry settings
MEILISEARCH_TIMEOUT_MS=10000
MEILISEARCH_MAX_RETRIES=3

# =============================================================================
# THAI TOKENIZER SERVICE CONFIGURATION
# =============================================================================

# Service network configuration
THAI_TOKENIZER_PORT=8000
SERVICE_HOST=0.0.0.0
SERVICE_NAME=thai-tokenizer-external

# Thai tokenization engine settings
TOKENIZER_ENGINE=pythainlp
TOKENIZER_MODEL=
ENABLE_MIXED_LANGUAGE=true

# =============================================================================
# PERFORMANCE AND RESOURCE CONFIGURATION
# =============================================================================

# Processing performance settings
BATCH_SIZE=50
MAX_WORKERS=4
WORKER_PROCESSES=4
REQUEST_TIMEOUT=30
TOKENIZER_CACHE_SIZE=1000

# Docker resource limits
CPU_LIMIT=2.0
MEMORY_LIMIT=1G
CPU_RESERVATION=0.5
MEMORY_RESERVATION=256M

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS and host access control
CORS_ORIGINS=*
ALLOWED_HOSTS=*

# Optional API key authentication for Thai Tokenizer service
API_KEY_REQUIRED=false
THAI_TOKENIZER_API_KEY=

# =============================================================================
# LOGGING AND MONITORING CONFIGURATION
# =============================================================================

# Logging configuration
LOG_LEVEL=INFO
DEBUG=false

# Log directory (relative to docker-compose file location)
LOG_DIR=../../logs/thai-tokenizer

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Docker Compose project name (affects container and network names)
COMPOSE_PROJECT_NAME=thai_tokenizer_external

# Internal network subnet for service communication
INTERNAL_SUBNET=172.21.0.0/16

# External network name for Meilisearch access
# Options: bridge (default), host, or custom network name
EXTERNAL_MEILISEARCH_NETWORK=bridge

# =============================================================================
# OPTIONAL NGINX PROXY CONFIGURATION
# =============================================================================

# Nginx proxy ports (only used with --profile proxy)
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Domain configuration for reverse proxy
THAI_TOKENIZER_DOMAIN=localhost
NGINX_DOMAIN=localhost

# =============================================================================
# DEPLOYMENT ENVIRONMENT VARIABLES
# =============================================================================

# Application version
VERSION=1.0.0

# Environment type (development, staging, production)
ENVIRONMENT=production

# Health check configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=15s
HEALTH_CHECK_RETRIES=5
HEALTH_CHECK_START_PERIOD=60s